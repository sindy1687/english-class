<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç°¡åŒ–æ¸¬è©¦</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f0f0f0;
        }
        .test-result {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            border-left: 4px solid #00ff00;
        }
        .error {
            border-left-color: #ff0000;
            background: #ffe6e6;
        }
    </style>
</head>
<body>
    <h1>ğŸ´ ç°¡åŒ–æ¸¬è©¦</h1>
    
    <div id="testResults">
        <div class="test-result">æ­£åœ¨æ¸¬è©¦...</div>
    </div>

    <!-- è¼‰å…¥è…³æœ¬ -->
    <script src="js/cardVersionManager.js"></script>
    <script>
        function testCardVersionManager() {
            const results = document.getElementById('testResults');
            
            try {
                // æ¸¬è©¦ 1: æª¢æŸ¥æ˜¯å¦å­˜åœ¨
                if (!window.CardVersionManager) {
                    throw new Error('CardVersionManager æœªè¼‰å…¥');
                }
                
                // æ¸¬è©¦ 2: æª¢æŸ¥æ–¹æ³•
                if (typeof CardVersionManager.getCurrentVersion !== 'function') {
                    throw new Error('getCurrentVersion æ–¹æ³•ä¸å­˜åœ¨');
                }
                
                // æ¸¬è©¦ 3: ç²å–ç‰ˆæœ¬
                const version = CardVersionManager.getCurrentVersion();
                console.log('ç•¶å‰ç‰ˆæœ¬:', version);
                
                // æ¸¬è©¦ 4: ç²å–è¨­å‚™è³‡è¨Š
                const deviceInfo = CardVersionManager.getDeviceInfo();
                console.log('è¨­å‚™è³‡è¨Š:', deviceInfo);
                
                results.innerHTML = `
                    <div class="test-result">
                        âœ… æ¸¬è©¦æˆåŠŸï¼<br>
                        ç•¶å‰ç‰ˆæœ¬: ${version}<br>
                        è¨­å‚™é¡å‹: ${deviceInfo.isMobile ? 'æ‰‹æ©Ÿ' : deviceInfo.isTablet ? 'å¹³æ¿' : 'é›»è…¦'}<br>
                        æ¨è–¦ç‰ˆæœ¬: ${deviceInfo.recommendedVersion}
                    </div>
                `;
                
            } catch (error) {
                results.innerHTML = `
                    <div class="test-result error">
                        âŒ æ¸¬è©¦å¤±æ•—: ${error.message}
                    </div>
                `;
                console.error('æ¸¬è©¦å¤±æ•—:', error);
            }
        }
        
        // ç­‰å¾…é é¢è¼‰å…¥å®Œæˆå¾ŒåŸ·è¡Œæ¸¬è©¦
        window.addEventListener('load', () => {
            setTimeout(testCardVersionManager, 500);
        });
    </script>
</body>
</html> 